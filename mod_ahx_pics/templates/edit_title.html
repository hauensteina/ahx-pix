{% extends 'layout.html' %}

{% block js %}
<script src="static/js/dropzone.min.js"></script>
<link rel="stylesheet" href="static/js/dropzone.min.css" type="text/css" />
{% endblock js %}

{% block content %}
{% if is_mobile() %}

<!-- Mobile phone version -->
<!-- ==================== -->

<div class=ahx-mob-or-desk style='width:90vw;'>
  <div style='min-height:30px;color:red;'>
    {% if error %}
    <strong>Error:</strong> {{ error }}
    {% endif %}
  </div>
  <div style='display:grid;justify-items:center;'>
    <form id=textform action=edit_title method=post>
      <div style='margin-bottom:30px;margin-right:5px'>
        <input type=text name=title value='{{gallery_title}}' size=40>
      </div>
    </form>
  </div>
  <div style='display:grid;justify-items:center;'>
    <form id=picform action=edit_title method=post enctype=multipart/form-data class='dropzone' style='width:100%;'>
      <div class=dz-message data-dz-message>Click to select title image</div>
    </form>
  </div>
  <div style='display:grid;justify-items:left;margin-top:10px;'>
    <span style='width:100%;margin:0;padding:0;'>
      <input style='width:100%;margin:0;padding:0;' form=textform type=text name=caption placeholder='Image Caption'
        value='{{caption}}'>
    </span>
  </div>
  <textarea name=blurb form=textform rows=5 style='margin-top:40px;width:100%;resize:none;'
    placeholder='Gallery Description'>{{blurb}}</textarea>

  <div style='margin-top:10px;'>
    <div>
      <input type="radio" form=textform id="private" name="access" value="private" {% if access=="private" %}checked{% endif %}>
      <label for="private">Private</label>
    </div>
    <div>
      <input type="radio" form=textform id="public" name="access" value="public" {% if access=="public" %}checked{% endif %}>
      <label for="public">Public</label>
    </div>
    <div>
      <input type="radio" form=textform id="members" name="access" value="members" {% if access=="members" %}checked{% endif %}>
      <label for="members">Members only</label>
    </div>
  </div>

  <div style='display:grid;justify-items:center;'>
    <span>
      <input type=submit form=textform name=save value=Save style='margin-top:20px;margin-right:10px;' class='ahx-submit-button'>
      <input type=submit form=textform name=cancel value=Cancel style='margin-top:10px;' class='ahx-submit-button'>
    </span>
  </div>
</div>

{% else %}

<!-- Desktop version -->
<!-- =============== -->
<div class=ahx-mob-or-desk style='max-width:600px;'>
  <div style='min-height:30px;color:red;'>
    {% if error %}
    <strong>Error:</strong> {{ error }}
    {% endif %}
  </div>
  <div style='display:grid;justify-items:center;'>
    <form id=textform action=edit_title method=post>
      <div style='margin-bottom:40px;margin-right:5px'>
        <input type=text name=title value='{{gallery_title}}' size=40>
      </div>
    </form>
  </div>
  <div style='display:grid;justify-items:center;'>
    <form id=picform action=edit_title method=post enctype=multipart/form-data class='dropzone' style='width:100%;'>
      <div class=dz-message data-dz-message>Click, or drop new title image here</div>
    </form>
  </div>
  <div style='display:grid;justify-items:left;margin-top:10px;'>
    <span style='width:100%;margin:0;padding:0;'>
      <input style='width:100%;margin:0;padding:0;' form=textform type=text name=caption placeholder='Image Caption'
        value='{{caption}}'>
    </span>
  </div>
  <textarea name=blurb form=textform rows=5 style='margin-top:40px;width:100%;resize:none;'
    placeholder='Gallery Description'>{{blurb}}</textarea>

  <div style='margin-top:10px;'>
    <div>
      <input type='radio' form=textform id='private' name='access' value='private' class='ahx-radio' {% if access=='private' %}checked{% endif %}>
      <label for='private'>Private</label>
    </div>
    <div>
      <input type='radio' form=textform id='public' name='access' value='public' class='ahx-radio' {% if access=='public' %}checked{% endif %}>
      <label for='public'>Public</label>
    </div>
    <div>
      <input type='radio' form=textform id='members' name='access' value='members' class='ahx-radio' {% if access=='members' %}checked{% endif %}>
      <label for='members'>Members only</label>
    </div>
  </div>

  <div style='display:grid;justify-items:center;margin-top:10px;'>
    <span>
      <input type=submit form=textform name=save value=Save style='margin-top:10px;margin-right:10px;' class='ahx-submit-button'>
      <input type=submit form=textform name=cancel value=Cancel style='margin-top:10px;' class='ahx-submit-button'>
    </span>
  </div>
</div>

{% endif %}

{% endblock content %}